spec: "1.0"
devices:
  device 1:
    eom:
      ASRL INSTR:
        q: "\n"
        r: "\n"
      USB INSTR:
        q: "\n"
        r: "\n"
      TCPIP INSTR:
        q: "\n"
        r: "\n"
      TCPIP SOCKET:
        q: "\n"
        r: "\n"
      GPIB INSTR:
        q: "\n"
        r: "\n"
    dialogues:
      - q: "*IDN?"
        r: "TEKTRONIX, DMM4050, nnnnnnnm, mm/dd/yy tt:tt"
    properties:
      frequency:
        default: 100.0
        getter:
          q: "?FREQ"
          r: "150125208,-3.630294E+01"
        setter:
          q: "!FREQ {:.2f}"
          r: OK
          e: 'FREQ_ERROR'
        specs:
          min: 1
          max: 100000
          type: float
      voltage:
        default: 1.0
        getter:
          q: ":VOLT:IMM:AMPL?"
          r: "#9000008999 -6.990778e+01, -6.988219e+01, -7.005169e+01, -7.058637e+01, -6.806544e+01, -7.123821e+01, -6.949319e+01, -7.108759e+01, -7.099818e+01, -7.077086e+01, -6.828406e+01, -6.919763e+01, -6.860490e+01, -6.954136e+01, -7.162726e+01, -6.980782e+01, -7.291026e+01, -6.952579e+01, -6.804298e+01, -6.827949e+01, -7.024319e+01, -7.152084e+01, -7.039637e+01, -6.861826e+01, -6.927467e+01, -6.946292e+01, -7.117503e+01, -6.796585e+01, -6.982345e+01, -6.966623e+01, -7.088264e+01, -6.835893e+01, -6.915051e+01, -6.890237e+01, -6.939011e+01, -7.088482e+01, -6.914285e+01, -6.880976e+01, -6.927957e+01, -6.889765e+01, -6.928854e+01, -7.111810e+01, -6.955331e+01, -7.053683e+01, -6.893642e+01, -7.085509e+01, -7.102489e+01, -7.088671e+01, -6.917136e+01, -6.957086e+01, -6.808531e+01, -6.901726e+01, -7.111315e+01, -7.010092e+01, -7.099986e+01, -6.821997e+01, -6.774946e+01, -7.086691e+01, -7.086428e+01, -7.029390e+01, -6.902742e+01, -6.954103e+01, -6.937556e+01, -6.902785e+01, -7.003719e+01, -6.970121e+01, -6.835275e+01, -7.058527e+01, -6.911032e+01, -6.671080e+01, -6.887541e+01, -7.286250e+01, -6.888147e+01, -6.907562e+01, -6.842400e+01, -7.075800e+01, -6.893622e+01, -6.953541e+01, -6.983396e+01, -6.978033e+01, -7.049284e+01, -6.951698e+01, -7.058120e+01, -6.843639e+01, -7.019121e+01, -7.051078e+01, -6.969630e+01, -6.833575e+01, -7.150434e+01, -7.167829e+01, -6.925833e+01, -7.132090e+01, -7.119465e+01, -6.776352e+01, -6.997430e+01, -7.118945e+01, -6.972701e+01, -6.934743e+01, -6.970856e+01, -7.009383e+01, -7.107115e+01, -7.185832e+01, -7.043504e+01, -6.893771e+01, -7.052538e+01, -6.987236e+01, -7.162806e+01, -6.960130e+01, -7.170564e+01, -6.849506e+01, -6.968517e+01, -6.774902e+01, -7.180087e+01, -6.768037e+01, -7.026531e+01, -7.136616e+01, -7.018623e+01, -6.957236e+01, -6.988247e+01, -7.037675e+01, -6.924017e+01, -6.762704e+01, -7.107655e+01, -6.908289e+01, -6.914983e+01, -7.046472e+01, -6.885856e+01, -6.759647e+01, -7.016096e+01, -6.981803e+01, -7.061522e+01, -7.000282e+01, -7.051543e+01, -6.977712e+01, -6.852562e+01, -6.913000e+01, -6.910894e+01, -6.911322e+01, -6.966678e+01, -7.020606e+01, -7.103336e+01, -7.053365e+01, -7.086040e+01, -7.082926e+01, -6.901035e+01, -7.050199e+01, -6.941049e+01, -6.887611e+01, -6.829660e+01, -6.875832e+01, -6.890719e+01, -6.799171e+01, -6.919077e+01, -6.968917e+01, -6.995432e+01, -7.083811e+01, -6.940056e+01, -6.917831e+01, -6.972929e+01, -6.872801e+01, -6.934222e+01, -7.061530e+01, -6.930213e+01, -7.023947e+01, -6.932205e+01, -6.954646e+01, -7.045816e+01, -6.978241e+01, -7.189256e+01, -7.201224e+01, -7.067729e+01, -7.180152e+01, -6.843557e+01, -6.993183e+01, -6.836838e+01, -7.044830e+01, -6.823328e+01, -7.193178e+01, -6.878891e+01, -6.877158e+01, -6.926218e+01, -7.062471e+01, -6.854980e+01, -7.001803e+01, -7.051584e+01, -6.998443e+01, -6.914759e+01, -7.062006e+01, -7.031577e+01, -7.062395e+01, -7.160696e+01, -6.953082e+01, -7.135935e+01, -6.881969e+01, -6.908588e+01, -6.895822e+01, -6.818499e+01, -6.891212e+01, -6.925345e+01, -7.003506e+01, -6.958670e+01, -7.027097e+01, -6.883141e+01, -6.951084e+01, -7.052229e+01, -6.939491e+01, -6.973624e+01, -7.157977e+01, -6.794786e+01, -7.111221e+01, -7.121202e+01, -7.100109e+01, -7.075884e+01, -6.897676e+01, -7.031393e+01, -6.981284e+01, -6.818922e+01, -7.028487e+01, -6.800720e+01, -6.940981e+01, -6.791578e+01, -7.008104e+01, -7.105076e+01, -7.026550e+01, -6.942134e+01, -6.810213e+01, -7.011322e+01, -7.171844e+01, -7.017887e+01, -6.974105e+01, -6.981522e+01, -6.928356e+01, -6.873129e+01, -7.171439e+01, -6.791876e+01, -6.793982e+01, -6.702215e+01, -6.792648e+01, -7.195982e+01, -6.962624e+01, -6.800094e+01, -7.153552e+01, -6.916061e+01, -7.009359e+01, -6.744102e+01, -7.261449e+01, -6.872256e+01, -6.984695e+01, -7.085567e+01, -7.047395e+01, -7.063441e+01, -6.939962e+01, -6.926257e+01, -6.976077e+01, -7.029082e+01, -7.065230e+01, -7.263140e+01, -6.950211e+01, -6.965707e+01, -6.887450e+01, -6.750210e+01, -6.789583e+01, -7.308646e+01, -6.999320e+01, -6.851730e+01, -6.919767e+01, -6.874458e+01, -7.142094e+01, -6.960886e+01, -7.107291e+01, -7.242774e+01, -6.916267e+01, -6.979665e+01, -6.820161e+01, -7.036844e+01, -7.051433e+01, -7.236463e+01, -6.823154e+01, -6.954307e+01, -6.977390e+01, -7.025107e+01, -7.006361e+01, -6.837775e+01, -6.894825e+01, -7.044780e+01, -6.810977e+01, -6.412310e+01, -6.003826e+01, -5.539661e+01, -5.167268e+01, -4.828502e+01, -4.542195e+01, -4.299345e+01, -4.106850e+01, -3.954613e+01, -3.843886e+01, -3.764878e+01, -3.701169e+01, -3.665366e+01, -3.637666e+01, -3.639658e+01, -3.633368e+01, -3.655196e+01, -3.701682e+01, -3.765791e+01, -3.854352e+01, -3.975909e+01, -4.142154e+01, -4.357340e+01, -4.627480e+01, -4.953696e+01, -5.318940e+01, -5.741985e+01, -6.219682e+01, -6.658839e+01, -6.762691e+01, -7.204661e+01, -6.993829e+01, -6.791969e+01, -6.825011e+01, -6.718612e+01, -6.851073e+01, -6.718768e+01, -6.873878e+01, -7.023700e+01, -7.001789e+01, -7.022456e+01, -7.206440e+01, -6.771705e+01, -6.859695e+01, -7.051006e+01, -6.950863e+01, -7.103378e+01, -6.993864e+01, -7.168604e+01, -7.113535e+01, -6.894970e+01, -7.149642e+01, -7.149627e+01, -7.025233e+01, -7.030959e+01, -6.927483e+01, -6.904914e+01, -6.944883e+01, -6.988167e+01, -7.091574e+01, -7.085456e+01, -6.969532e+01, -7.001200e+01, -6.995592e+01, -6.932150e+01, -6.774311e+01, -6.782667e+01, -6.953716e+01, -6.960442e+01, -6.953363e+01, -6.825455e+01, -7.013953e+01, -6.826377e+01, -6.845984e+01, -7.096381e+01, -6.998304e+01, -6.997793e+01, -6.842196e+01, -6.958754e+01, -6.911792e+01, -6.999559e+01, -7.139679e+01, -6.924140e+01, -6.909676e+01, -7.121197e+01, -7.165889e+01, -6.938651e+01, -6.897392e+01, -7.005792e+01, -6.732710e+01, -6.814357e+01, -6.846082e+01, -6.819682e+01, -6.975009e+01, -7.116142e+01, -6.819479e+01, -6.929647e+01, -6.959860e+01, -7.092033e+01, -6.955820e+01, -7.052244e+01, -6.970356e+01, -6.930065e+01, -6.990575e+01, -7.040005e+01, -7.045017e+01, -7.055837e+01, -6.953537e+01, -6.921036e+01, -6.835764e+01, -6.952573e+01, -6.992672e+01, -6.847990e+01, -6.908083e+01, -6.899954e+01, -7.129733e+01, -6.822212e+01, -6.944454e+01, -7.130106e+01, -7.058329e+01, -7.095898e+01, -7.102795e+01, -6.915052e+01, -6.904263e+01, -7.046931e+01, -6.965743e+01, -7.019388e+01, -6.872908e+01, -7.031853e+01, -6.751524e+01, -6.856935e+01, -7.037745e+01, -7.015485e+01, -7.010753e+01, -7.010755e+01, -6.875388e+01, -6.987524e+01, -7.083121e+01, -6.957306e+01, -6.899900e+01, -7.041555e+01, -6.976064e+01, -6.912504e+01, -6.919875e+01, -6.831961e+01, -6.979996e+01, -7.147014e+01, -6.876878e+01, -7.013822e+01, -6.957079e+01, -6.891703e+01, -6.918483e+01, -6.976237e+01, -6.944189e+01, -6.890601e+01, -7.131347e+01, -7.061961e+01, -7.017814e+01, -6.971404e+01, -7.260960e+01, -6.975576e+01, -6.943384e+01, -7.104110e+01, -7.031782e+01, -6.809610e+01, -6.910974e+01, -6.825865e+01, -6.981726e+01, -7.108051e+01, -7.008222e+01, -6.957292e+01, -6.928512e+01, -6.842844e+01, -7.099788e+01, -6.903787e+01, -7.026980e+01, -6.981621e+01, -7.062183e+01, -6.968655e+01, -7.037746e+01, -6.896327e+01, -7.188014e+01, -7.116932e+01, -7.181774e+01, -7.085932e+01, -6.851040e+01, -7.013679e+01, -6.968497e+01, -7.041836e+01, -6.862209e+01, -6.869492e+01, -6.885440e+01, -7.032133e+01, -6.906543e+01, -6.967303e+01, -6.992290e+01, -6.817052e+01, -7.048503e+01, -7.071208e+01, -6.967758e+01, -6.877937e+01, -6.882807e+01, -7.199943e+01, -7.017386e+01, -6.999981e+01, -6.932543e+01, -7.032787e+01, -6.718188e+01, -6.983009e+01, -6.795919e+01, -6.712887e+01, -7.289317e+01, -6.631359e+01, -6.992025e+01, -6.837500e+01, -7.172136e+01, -6.915129e+01, -7.247940e+01, -7.103392e+01, -6.932316e+01, -7.077361e+01, -6.998933e+01, -7.264781e+01, -7.028368e+01, -7.059972e+01, -7.027469e+01, -7.007632e+01, -6.960125e+01, -6.748241e+01, -6.911573e+01, -6.799784e+01, -7.043209e+01, -7.246034e+01, -6.947859e+01, -6.973808e+01, -7.043443e+01, -7.091737e+01, -6.870390e+01, -6.864977e+01, -6.927480e+01, -6.850530e+01, -7.169861e+01, -6.969170e+01, -6.975867e+01, -6.857036e+01, -7.094439e+01, -6.956836e+01, -6.827055e+01, -7.149626e+01, -7.102878e+01, -7.092047e+01, -7.016779e+01, -7.198524e+01, -6.825475e+01, -6.795187e+01, -7.133132e+01, -7.360049e+01, -6.808775e+01, -6.817117e+01, -6.866261e+01, -6.708458e+01, -7.116308e+01, -7.066427e+01, -6.825891e+01, -6.845411e+01, -6.909053e+01, -7.071272e+01, -7.002856e+01, -6.998895e+01, -6.990015e+01, -6.888212e+01, -6.925764e+01, -6.830717e+01, -6.900337e+01, -7.075254e+01, -6.919585e+01, -6.877235e+01, -7.292323e+01, -6.910233e+01, -7.023906e+01, -6.994581e+01, -7.184725e+01, -6.883062e+01, -6.908923e+01, -7.017090e+01, -7.000112e+01, -7.094549e+01, -6.982687e+01, -6.900188e+01, -6.920973e+01, -6.988840e+01, -6.941851e+01, -6.796008e+01, -7.174067e+01, -6.934084e+01, -6.839310e+01, -6.698177e+01, -7.010303e+01, -7.003065e+01, -6.982455e+01, -6.988052e+01, -6.717212e+01, -6.898238e+01, -7.000793e+01, -6.902854e+01, -6.913694e+01, -6.833140e+01, -6.740928e+01, -7.108931e+01, -7.119600e+01, -6.971233e+01, -6.896543e+01, -7.033655e+01, -7.073067e+01"
        setter:
          q: ":VOLT:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float
      amplitude:
        default: 1.0
        getter:
          q: "?AMP"
          r: "{:.2f}"
        setter:
          q: "!AMP {:.2f}"
          r: OK
        specs:
          min: 0
          max: 10
          type: float
      offset:
        default: 0
        getter:
          q: "?OFF"
          r: "{:.2f}"
        setter:
          q: "!OFF {:.2f}"
          r: OK
        specs:
          min: 0
          max: 10
          type: float
      output_enabled:
        default: 0
        getter:
          q: "?OUT"
          r: "{:d}"
        setter:
          q: "!OUT {:d}"
          r: OK
        specs:
          valid: [0, 1]
          type: int
      waveform:
        default: 0
        getter:
          q: "?WVF"
          r: "{:d}"
        setter:
          q: "!WVF {:d}"
          r: OK
        specs:
          valid: [0, 1, 2, 3]
          type: int
  device 2:
    eom:
      ASRL INSTR:
        q: "\n"
        r: "\n"
      USB INSTR:
        q: "\n"
        r: "\n"
      TCPIP INSTR:
        q: "\n"
        r: "\n"
      TCPIP SOCKET:
        q: "\n"
        r: "\n"
      GPIB INSTR:
        q: "\n"
        r: "\n"
    dialogues:
      - q: "*IDN?"
        r: "TEK/DPO3034,CF:91.1CT,FV:v1.0000"
    error:
      status_register:
        - q: "*ESR?"
          command_error: 32
          query_error: 4
    properties:
      voltage:
        default: 3.0
        getter:
          q: ":VOLT:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":VOLT:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float
      current:
        default: 1.0
        getter:
          q: ":CURR:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":CURR:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float
      rail:
        default: P6V
        getter:
          q: "INST?"
          r: "{:s}"
        setter:
          q: "INST {:s}"
        specs:
            valid: ["P6V", "P25V", "N25V"]
            type: str
      output_enabled:
        default: 0
        getter:
          q: "OUTP?"
          r: "{:d}"
        setter:
          q: "OUTP {:d}"
        specs:
          valid: [0, 1]
          type: int
  device 3:
    eom:
      ASRL INSTR:
        q: "\r\n"
        r: "\n"
      USB INSTR:
        q: "\n"
        r: "\n"
      TCPIP INSTR:
        q: "\n"
        r: "\n"
      TCPIP SOCKET:
        q: "\n"
        r: "\n"
      GPIB INSTR:
        q: "\n"
        r: "\n"
    dialogues:
      - q: "*IDN?"
        r: "Keysight Technologies, N9320B, 45310116, A.01.02"
    error:
      response:
        command_error: "INVALID_COMMAND"
      status_register:
        - q: "*ESR?"
          command_error: 32
          query_error: 4
    properties:
      voltage:
        default: 1.0
        getter:
          q: ":VOLT:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":VOLT:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float
      current:
        default: 1.0
        getter:
          q: ":CURR:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":CURR:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float
      read_only:
        default: P6V
        getter:
          q: "INST?"
          r: "{:s}"
      output_enabled:
        default: 0
        getter:
          q: "OUTP?"
          r: "{:d}"
        setter:
          q: "OUTP {:d}"
  device 4:
    eom:
      ASRL INSTR:
        q: "\r\n"
        r: "\n"
      USB INSTR:
        q: "\n"
        r: "\n"
      TCPIP INSTR:
        q: "\n"
        r: "\n"
      GPIB INSTR:
        q: "\n"
        r: "\n"
    dialogues:
      - q: "*IDN?"
        r: "SCPI,MOCK,VERSION_1.0"
    error:
      error_queue:
        - q: ':SYST:ERR?'
          default: '0, No Error'
          command_error: '1, Command error'
    properties:
      voltage:
        default: 1.0
        getter:
          q: ":VOLT:IMM:AMPL?"
          r: "{:+.8E}"
        setter:
          q: ":VOLT:IMM:AMPL {:.3f}"
        specs:
          min: 1
          max: 6
          type: float

resources:
  ASRL1::INSTR:
    device: device 1
  USB::0x1111::0x2222::0x1234::INSTR:
    device: device 1
  TCPIP::localhost::INSTR:
    device: device 1
  TCPIP::192.168.1.1::10001::SOCKET:
    device: device 1
  GPIB::8::INSTR:
    device: device 1
  ASRL2::INSTR:
    device: device 2
  USB::0x1111::0x2222::0x2468::INSTR:
    device: device 2
  TCPIP::192.168.1.2::INSTR:
    device: device 2
  TCPIP::192.168.1.2::10001::SOCKET:
    device: device 2
  ASRL3::INSTR:
    device: device 3
  USB::0x1111::0x2222::0x3692::INSTR:
    device: device 3
  TCPIP::192.168.1.3::INSTR:
    device: device 3
  TCPIP::192.168.1.3::10001::SOCKET:
    device: device 3
  ASRL4::INSTR:
    device: device 4
  USB::0x1111::0x2222::0x4444::INSTR:
    device: device 4
  TCPIP::192.168.1.2::INSTR:
    device: device 4
  GPIB::4::INSTR:
    device: device 4
  USB::0x1111::0x2222::0x4445::RAW:
    device: device 1